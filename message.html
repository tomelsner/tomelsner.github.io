<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>Test</title>



</head>
<body>
<a onClick="window.postMessage('yes');">26</a>
<p id="consoleEl"></p>
<script type="text/javascript">




	var consoleEl = document.getElementById("consoleEl");
		consoleEl.innerHTML = 'executing script';
	
		
	if (window.webkit.messageHandlers != undefined) {
		consoleEl.innerHTML = 'window.webkit.messageHandlers != undfined';
		window.webkit.messageHandlers.reactNative.postMessage('{"initalLoad":"true"}');
	}

	/*	
	function whenRNPostMessageReady(cb) {
		var consoleEl = document.getElementById("consoleEl");
		consoleEl.innerHTML = 'whenRNPostMessageReady postMessage.length '+postMessage.length;
        if (postMessage.length === 3) cb();
        else setTimeout(function() { whenRNPostMessageReady(cb) }, 100);
    }


    whenRNPostMessageReady(function() {
    	var consoleEl = document.getElementById("consoleEl");
		consoleEl.innerHTML = 'whenRNPostMessageReady called';
		var timeout = setTimeout(function(){
			window.postMessage('{"initalLoad":"true"}','*')
		},100)
		
		
	});



	var consoleEl = document.getElementById("consoleEl");
		consoleEl.innerHTML = 'script created';
	*/

	
	





</script>
</body>
</html>