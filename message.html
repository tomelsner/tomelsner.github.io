<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>Test</title>



</head>
<body>
<a onClick="window.postMessage('yes');">28</a>
<p id="consoleEl"></p>
<script type="text/javascript">




	var consoleEl = document.getElementById("consoleEl");
		consoleEl.innerHTML = 'executing script';
	
		
	if (window.webkit != undefined && window.webkit.messageHandlers != undefined) {
		consoleEl.innerHTML = 'window.webkit.messageHandlers != undfined';
		window.webkit.messageHandlers.reactNative.postMessage({"initalLoad":"true"});
		window.webkit.messageHandlers.reactNative.postMessage({ 
			"reservation_id":"470087TEST","property_code":"HYSFRA14","adults":"2","children":"0","total":"139.00","in":"20.10.2017","out":"21.10.2017","hotel_id":"10","hotel_name":"Steigenberger Airport Hotel Frankfurt","images":{"highres":["https:\/\/steigenberger.workmatrix.com\/cache\/images\/44514_SHR_AirportHot_a305a032b5a032a59b678a3-1.jpg"],"lowres":["https:\/\/steigenberger.workmatrix.com\/cache\/images\/44514_SHR_AirportHot_a305a032b2ee1a659b678a6-1.jpg"] }
		});
	}
	
	

	/*	
	function whenRNPostMessageReady(cb) {
		var consoleEl = document.getElementById("consoleEl");
		consoleEl.innerHTML = 'whenRNPostMessageReady postMessage.length '+postMessage.length;
        if (postMessage.length === 3) cb();
        else setTimeout(function() { whenRNPostMessageReady(cb) }, 100);
    }


    whenRNPostMessageReady(function() {
    	var consoleEl = document.getElementById("consoleEl");
		consoleEl.innerHTML = 'whenRNPostMessageReady called';
		var timeout = setTimeout(function(){
			window.postMessage('{"initalLoad":"true"}','*')
		},100)
		
		
	});



	var consoleEl = document.getElementById("consoleEl");
		consoleEl.innerHTML = 'script created';
	*/

	
	





</script>
</body>
</html>